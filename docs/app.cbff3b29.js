import{T as B,S as G,P as N,a as $,R as O,b as V}from"./pixi.js.b3872bab.js";import{a as C}from"./assert.9d7efef1.js";import{s as j}from"./ramda.28ae2b40.js";const z=1.5,f=window.innerHeight>window.innerWidth,M=window.innerWidth,P=window.innerHeight,r=f?1080:1920,D=f?r:r*M/P,J=f?r*P/M:r,y=[Math.floor(D),Math.floor(J)],[K,L]=y,R=new OffscreenCanvas(1,1),u=R.getContext("2d");C(u);u.fillStyle="#FFF";u.fillRect(0,0,1,1);const Q=B.from(R),m=66743015e-18;let h=734767309e5;const U=(t,e)=>{const[n,o]=t,[w,W]=e,i=w-n,a=W-o,d=Math.sqrt(i**2+a**2),v=m*h/d**2,A=i/d,E=a/d,H=A*v,I=E*v;return h*=1+m,[H,I,[i,a]]},X=[K/2,L/2],Y=t=>{const[e,n,o]=U(t.coords,X);t.vx+=e,t.vy+=n,Math.sqrt(o[0]**2+o[1]**2)<=50&&(h*=1.000001,t.vx=0,t.vy=0,t.position.set(-1e5,-1e5)),t.position.set(t.x+t.vx,t.y+t.vy)};class Z extends G{constructor(e,n){super(Q),this.vx=-1,this.vy=-1,this.name=`${this.x}${this.y}`,this.x=e,this.y=n}get coords(){return[this.x,this.y]}}class _ extends N{constructor(){super(...arguments),this.children=[]}}const tt=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,[et,nt]=y,x=25e4;console.info("Rendering",x,"particles");const g=t=>tt(1,t),s=new _(x),st=Array.from({length:x},()=>new Z(g(et),g(nt))),p=j(100,st);for(let t=0;t<p.length;t++){const e=p[t];e&&s.addChild(...e)}const[S,T]=y,ot=({x:t,y:e})=>t>-1e3||t<S+1e3||e>-1e3||e<T+1e3,rt=s.children.length,b=()=>{for(let t=0;t<rt;t++){const e=s.children[t];ot(e)&&Y(e)}};$.system.autoStart=!1;const c=new $,k=document.querySelector("canvas");C(k,"No canvas element found");const q=new O({view:k,width:S,height:T,backgroundColor:1118481,powerPreference:"high-performance",useContextAlpha:!1,antialias:!1,resolution:z}),l=new V(q),F=l.render.bind(l,s);c.add(b);c.add(F);const dt=()=>{c.remove(b),c.remove(F),l.destroy(),q.destroy(),s.destroy({children:!0})};export{dt as destroy,q as renderer,c as ticker,b as update};
//# sourceMappingURL=app.cbff3b29.js.map
