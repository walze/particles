import{T as B,S as G,P as N,a as $,R as O,b as V}from"./pixi.js.b3872bab.js";import{a as C}from"./assert.9d7efef1.js";import{s as j}from"./ramda.28ae2b40.js";const z=1.5,y=window.innerHeight>window.innerWidth,M=window.innerWidth,P=window.innerHeight,r=y?1080:1920,D=y?r:r*M/P,J=y?r*P/M:r,u=[Math.floor(D),Math.floor(J)],[K,L]=u,R=new OffscreenCanvas(1,1),x=R.getContext("2d");C(x);x.fillStyle="#FFF";x.fillRect(0,0,1,1);const Q=B.from(R),h=66743015e-18;let l=734767309e5;const U=(t,e)=>{const[n,o]=t,[v,W]=e,i=v-n,a=W-o,d=Math.sqrt(i**2+a**2),m=h*l/d**2,A=i/d,E=a/d,H=A*m,I=E*m;return l*=1+h*10,[H,I,[i,a]]},X=[K/2,L/2],Y=t=>{const[e,n,o]=U(t.coords,X);t.vx+=e,t.vy+=n,Math.sqrt(o[0]**2+o[1]**2)<=50&&(l*=1+Math.sqrt(h)/2,t.vx=0,t.vy=0,t.position.set(-1e5,-1e5)),t.position.set(t.x+t.vx,t.y+t.vy)};class Z extends G{constructor(e,n){super(Q),this.vx=-1,this.vy=-1,this.name=`${this.x}${this.y}`,this.x=e,this.y=n}get coords(){return[this.x,this.y]}}class _ extends N{constructor(){super(...arguments),this.children=[]}}const tt=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,[et,nt]=u,w=25e4;console.info("Rendering",w,"particles");const g=t=>tt(1,t),s=new _(w),st=Array.from({length:w},()=>new Z(g(et),g(nt))),p=j(100,st);for(let t=0;t<p.length;t++){const e=p[t];e&&s.addChild(...e)}const[S,q]=u,ot=({x:t,y:e})=>t>-1e3||t<S+1e3||e>-1e3||e<q+1e3,rt=s.children.length,T=()=>{for(let t=0;t<rt;t++){const e=s.children[t];ot(e)&&Y(e)}};$.system.autoStart=!1;const c=new $,b=document.querySelector("canvas");C(b,"No canvas element found");const k=new O({view:b,width:S,height:q,backgroundColor:1118481,powerPreference:"high-performance",useContextAlpha:!1,antialias:!1,resolution:z}),f=new V(k),F=f.render.bind(f,s);c.add(T);c.add(F);const dt=()=>{c.remove(T),c.remove(F),f.destroy(),k.destroy(),s.destroy({children:!0})};export{dt as destroy,k as renderer,c as ticker,T as update};
//# sourceMappingURL=app.aa414986.js.map
